<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>NCommon - Getting started guide</title>
    <link type="text/css" rel="Stylesheet" href="css/default.css" />
    <link type="text/css" rel="Stylesheet" href="css/docs.css" />
    <link type="text/css" rel="stylesheet" href="css/shThemeFadeToGrey.css" />
    <script src="scripts/shCore.js" type="text/javascript"></script>
    <script src="scripts/shAutoloader.js" type="text/javascript"></script>
</head>
<body>
    <div id="container">
        <header>
            <h1>
                <a href="http://github.com/riteshrao/ncommon">NCommon</a></h1>
            <div class="description">
                A light weight framework for building applications in .Net
            </div>
        </header>
        <nav id="main">
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="getting-started.html">Getting Started</a></li>
                <li><a href="docs/index.html">Documentation</a></li>
            </ul>
        </nav>
        <h2>
            Getting started guide.</h2>
        <section id="content">
            <aside id="toc">
                <h4>
                    Contents</h4>
                <ol>
                    <li><a href="#intro">Introduction</a></li>
                    <li><a href="#source">Building from source</a></li>
                    <li><a href="#nuget">Referencing NuGet packages</a></li>
                    <li><a href="#configintro">Configuration basics</a></li>
                </ol>
            </aside>
            <h3 id="intro">Introduction</h3>
            <p>
                NCommon is a light weight framework that provides implementations of various concepts
                and patterns commonly used when building .Net applications and websites. NCommon
                also provides a foundation for building applications using a domain driven design
                approach by providing implementations of common patterns in Domain Driven Design
                such as Unit Of Work and Repositories.
            </p>
            <p>
                One of the key features on NCommon is a ORM agnostic repository implementation.
                What this means is NCommon provides the ability to abstract away your data access
                framework of choice, be it NHibernate, Entity Framework or Linq-To-SQL, it allows
                you to focus on the concept of working with your domain models and LINQ queries
                and abstracts away any knowledge of the underlying data access infrastructure from
                your application.
            </p>
            <h3 id="source">Building NCommon from source</h3>
            <p>
                Source for NCommon is maintained at <a href="https://github.com/riteshrao/ncommon">GitHub</a>." For downloading and building NCommon
                from source, see the <a href="index.html#source">Building from source</a> section in the main page.
            </p>
            <h3 id="nuget">Referencing NuGet packages</h3>
            <p>
                NCommon binaries are split into three categories:</p>
            <ul>
                <li>NCommon Core</li>
                <li>NCommon Data Adapters</li>
                <li>NCommon Container Adapters</li>
            </ul>
            <p>
                NCommon core is contained in the <strong>NCommon.dll</strong> assembly. This assembly
                contains the configuration API to configure and bootstrap NCommon in your application.
            </p>
            <p>
                NCommon depends on Dependency Injection and a IoC container heavily. If you are
                unfamiliar with Dependency Injection or IoC containers it's highly advisable you
                take some time to read through these two topics before going forward. Since there
                are many IoC container frameworks, and everyone has their own favorite one, NCommon
                provides adapters for various IoC container implementations so that it can work
                with your IoC container choice. Out of the box, NCommon provides implementations
                for the following container adapters (in no order of preference). To make NCommon
                work with the container of your choice, reference the appropriate assembly in your
                project.
            </p>
            <ul>
                <li>Autofac (NCommon.ContainerAdapter.Autofac.dll)</li>
                <li>Castle Windsor (NCommon.ContainerAdapter.CastleWindsor.dll)</li>
                <li>NInject (NCommon.ContianerAdapter.NInject.dll)</li>
                <li>StructureMap (NCommon.ContainerAdapter.StructureMap)</li>
                <li>Unit (NCommon.ContainerAdapter.Unity)</li>
            </ul>
            <p>
                NCommon provides a way to abstract your data access infrastructure by providing
                implementations of Unit Of Work and Repository pattern that work in a ORM agnostic
                manner. Out of the box, NCommon provides data access adapters for the following
                ORM frameworks: 
            </p>
            <ul>
                <li>NHibernate (NCommon.NHibernate.dll)</li>
                <li>Entity Framework (NCommon.EntityFramework.dll)</li>
                <li>Linq To SQL (NCommon.LinqToSql.dll)</li>
                <li>Db4o (NCommon.Db4o.dll)</li>
            </ul>
            <p>
                Reference the appropriate data adapter assembly in your project
                to allow NCommon to work with your ORM / Data Access framework of choice. 
            </p>
            
            <p>
                NCommon assemblies are provided as NuGet packages. You can use the NuGet package manager
                to install the appropriate NuGet packages. Below is an example that installs the required
                NCommon packages for StructureMap and NHibernate data adapter.
            </p>
            <pre class="brush: ps; gutter: false; toolbar: false;">
                Install-Package -Id NCommon.ContainerAdapter.StructureMap -ProjectName MyProject
                Install-Package -Id NCommon.NHibernate -ProjectName MyProject
            </pre>
            <h3 id="configintro">
                NCommon configuration basics</h3>
            <p>
                NCommon provides a fluent configuration API to boot strap and configure NCommon
                in your application. Once you have referenced the appropriate NCommon assemblies
                listed above, you can use this fluent API to configure NCommon.
            </p>
            <p>
                Below is a sample sample configuration using defaults. The snippet below is using
                Castle Windsor and NHibernate as it's container and data adapter respectively, but
                the same can be used for any container adapter and data adapter.
                <pre class="brush: csharp; gutter: false; toolbar: false;">
                    var adapter = new WindsorContainerAdapter(_container);
                    NCommon.Configure.Using(adapter)
                        .ConfigureState&lt;DefaultStateConfiguration&gt;()
                        .ConfigureData&lt;NHConfiguration&gt;(config =&gt; config.WithSessionFactory(() =&gt; _sessionFactory))
                        .ConfigureUnitOfWork&lt;DefaultUnitOfWorkConfiguration&gt;(config =&gt; config.AutoCompleteScope());

                </pre>
            </p>
            <p>
                NCommon provides a single static class <strong>Configure</strong> that provides
                the main entry point to the configuration API and contains one single static method
                Using which takes in the container adapter that NCommon will use to boot strap itself.
            </p>
            <p>
                There are three main configuration parts of NCommon; State, Data Adapter and Unit
                Of Work configuration. Each part is configured using a configurator implementation
                and NCommon provides default configurators but you can create your own.
            </p>
            <h4>State Configuration</h4>
            <p>
                NCommon provides a set of helpers that allow storing and retrieving state informaiton in
                at the Local, Session, Cache or Application level. To register the default state storage  
                implementations provided by NCommon you can use the DefaultStateConfiguration type, shown below.
            </p>
            <pre class="brush: csharp; gutter: false; toolbar: false;">
                    var adapter = new WindsorContainerAdapter(_container);
                    NCommon.Configure.Using(adapter)
                        .ConfigureState&lt;DefaultStateConfiguration&gt;();
                </pre>
            <p>
                The DefaultStateConfiguration registers internal implementations of Local, Session, Cache and Application
                storage. If you would like to use a custom state storage, for example use a MemcacheD cache storage provider,
                the DefaultStateConfiguration allows overriding individual storage implementations. Below is an example where
                custom storage providers are used for Local, Session, Cache, and Application storage. 
            </p>
            <pre class="brush: csharp; gutter: false; toolbar: false;">
                var container = new Container();
                NCommon.Configure.Using(new StructureMapContainerAdapter(container))
                       .ConfigureState&lt;DefaultStateConfiguration&gt;(config =&gt;
                                   config.UseCustomCacheOf&lt;MyCustomCache&gt;()
                                         .UseCustomLocalStateOf&lt;MyLocalState&gt;()
                                         .UseCustomSessionStateOf&lt;MySessionState&gt;()
                                         .UseCustomApplicationStateOf&lt;MyAppState&gt;()
                                );
            </pre>
            <h4>Data Adapter Configuration</h4>
            <p>
                NCommon provides implementations of Unit of Work and Repository patterns that work with a large set of ORM
                providers, such as NHibernate and Entity Framework. To use NCommon's implementations of Unit of Work and 
                Repositories you nee to configure the appropriate data provider. NCommon providers configurations that work
                with NHibernate, Entity Framework, Linq To Sql and Db4o. The example below configures NCommon to work with
                NHibernate. <span class="note">Note: </span> The example assumes that a SessionFactory is configured and created
                during application initializtion.
            </p>
            <pre class="brush: csharp; gutter: false; toolbar: false;">
                    var adapter = new WindsorContainerAdapter(_container);
                    NCommon.Configure.Using(adapter)
                        .ConfigureState&lt;DefaultStateConfiguration&gt;()
                        .ConfigureData&lt;NHConfiguration&gt;(config =&gt; config.WithSessionFactory(() =&gt; _sessionFactory))

                </pre>
            <p>
                View the documentation section for more information.
            </p>
        </section>
    </div>
    <script type="text/javascript">
        function path() {
            var args = arguments,
            result = [];

            for (var i = 0; i < args.length; i++)
                result.push(args[i].replace('@', 'scripts/'));
            return result;
        };

        SyntaxHighlighter.autoloader.apply(null, path(
          'applescript            @shBrushAppleScript.js',
          'actionscript3 as3      @shBrushAS3.js',
          'bash shell             @shBrushBash.js',
          'coldfusion cf          @shBrushColdFusion.js',
          'cpp c                  @shBrushCpp.js',
          'c# c-sharp csharp      @shBrushCSharp.js',
          'css                    @shBrushCss.js',
          'ps                     @shBrushPowerShell.js',
          'delphi pascal          @shBrushDelphi.js',
          'diff patch pas         @shBrushDiff.js',
          'erl erlang             @shBrushErlang.js',
          'groovy                 @shBrushGroovy.js',
          'java                   @shBrushJava.js',
          'jfx javafx             @shBrushJavaFX.js',
          'js jscript javascript  @shBrushJScript.js',
          'perl pl                @shBrushPerl.js',
          'php                    @shBrushPhp.js',
          'text plain             @shBrushPlain.js',
          'py python              @shBrushPython.js',
          'ruby rails ror rb      @shBrushRuby.js',
          'sass scss              @shBrushSass.js',
          'scala                  @shBrushScala.js',
          'sql                    @shBrushSql.js',
          'vb vbnet               @shBrushVb.js',
          'xml xhtml xslt html    @shBrushXml.js'
        ));
        SyntaxHighlighter.all();
    </script>
</body>
</html>
